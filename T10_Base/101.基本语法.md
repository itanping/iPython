# Python3 基本语法

## 一、语法规则

### 1.1 标识符

在 Python 3 中，可以用中文作为变量名，非 ASCII 标识符也是允许的。

- 第一个字符必须是字母表中字母或下划线 _ 。
- 标识符的其他的部分由字母、数字和下划线组成。
- 标识符对大小写敏感。

### 1.2 关键字

保留字即关键字，我们不能把它们用作任何标识符名称。Python 的标准库提供了一个 keyword 模块，可以输出当前版本的所有关键字：

```
['False', 'None', 'True', 'and', 'as', 'assert', 'break', 'class', 'continue', 'def', 'del', 'elif', 'else', 'except', 'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is', 'lambda', 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try', 'while', 'with', 'yield']
```

### 1.3 注释

良好的注释便于阅读和理解。

1. 单选注释：# 开头
2. 多行注释：多行 # 号，或者起始 '''，或者起始 """

```
# 第一个注释
# 第二个注释
 
'''
第三注释
第四注释
'''
 
"""
第五注释
第六注释
"""
print ("Hello, Python!")
```

### 1.4 行与缩进

1. 使用缩进来表示代码块，不需要使用大括号 {} 。
2. 缩进的空格数是可变的，但是同一个代码块的语句必须包含相同的缩进空格数。

```
if True:
    print ("Answer")
    print ("True")
else:
    print ("Answer")
  print ("False")    # 缩进不一致，会导致运行错误
```

如果缩进不一致，执行后会出现类似以下错误：

```
 File "test.py", line 6
    print ("False")    # 缩进不一致，会导致运行错误
                                      ^
IndentationError: unindent does not match any outer indentation level
```

### 1.5 打印

- print() 函数。
- print() 默认输出是换行的，如果要实现不换行需要在变量末尾加上 end=""

### 1.6 赋值

* 等号（=）用来给变量赋值。
* 等号（=）运算符左边是一个变量名，等号（=）运算符右边是存储在变量中的值。

### 1.7 变量

```python
a = [1, 2, 3]
a = "Python"
```

[1,2,3] 是 List 类型，"Python" 是 String 类型，而变量 a 是没有类型，她仅仅是一个对象的引用（一个指针），可以是指向 List 类型对象，也可以是指向 String 类型对象。

参数：python 中一切都是对象，严格意义我们不能说值传递还是引用传递，我们应该说传不可变对象和传可变对象。

可通过 id() 函数来查看内存地址变化。

```python
def change(a):
    print(id(a))   # 指向的是同一个对象
    a = 10         # 重新被赋值，对象的引用地址没有变，变的是值
    print(id(a))   # 一个新对象

a = 1
print(id(a))
change(a)
print(id(a))
```

#### 1.7.1 全局变量和局部变量

定义在函数内部的变量拥有一个局部作用域，定义在函数外的拥有全局作用域。

局部变量只能在其被声明的函数内部访问，而全局变量可以在整个程序范围内访问。调用函数时，所有在函数内声明的变量名称都将被加入到作用域中。

### 1.8 字符串格式化

```python
# 括号及其里面的字符 (称作格式化字段) 将会被 format() 中的参数替换。
# 在括号中的数字用于指向传入对象在 format() 中的位置。
print('{}，{}!'.format('Hello', 'Python'))
print('{0}，{1}!'.format('Hello', 'Word'))
print('{1}，{0}!'.format('Python', 'Hello'))
print('%s，%s!' % ('Hello', 'Python'))            # 旧式字符串格式化
print('%d，%d' % (111, 222))                      # 旧式字符串格式化
```

### 1.9 读取键盘输入

Python 提供了 input() 内置函数从标准输入读入一行文本，默认的标准输入是键盘。

### 1.10 多行语句

Python 通常是一行写完一条语句，但如果语句很长，我们可以使用反斜杠 \ 来实现多行语句，例如：

```
total = item_one + \
        item_two + \
        item_three
```

但在 [], {}, 或 () 中的多行语句，不需要使用反斜杠 \，例如：

```
total = ['item_one', 'item_two', 'item_three',
        'item_four', 'item_five']
```

## 二、运算符

### 2.1 算术运算符

以下假设变量 a 为 10，变量 b 为 20：

| 运算符 | 含义       | 描述                                       | 实例                               |
| :----: | :--------- | :----------------------------------------- | :--------------------------------- |
|   +   | 加         | 两个对象相加                               | x + y 输出结果 31                  |
|   -   | 减         | 得到负数或是一个数减去另一个数             | x - y 输出结果 -11                 |
|   *   | 乘         | 两个数相乘或是返回一个被重复若干次的字符串 | x * y 输出结果 210                 |
|   /   | 除         | x除以y                                     | y / x 输出结果 2.1                 |
|   %   | 取模       | 返回除法的余数                             | y % x 输出结果 1                   |
| `**` | `幂`     | 返回x的y次幂                               | x**y 为10的21次方                  |
| `//` | `取整除` | 向下取接近商的整数                         | 9//2 输出结果 4，-9//2 输出结果 -5 |

### 2.2 比较运算符

所有比较运算符返回 1 表示真，返回 0 表示假。这分别与特殊的变量 True 和 False 等价。

以下假设变量x为10，变量y为20：

| 运算符 | 含义     | 描述                   | 实例                |
| :----: | :------- | :--------------------- | :------------------ |
|   ==   | 等于     | 比较对象是否相等       | (x == y) 返回 False |
|   !=   | 不等于   | 比较两个对象是否不相等 | (x != y) 返回 True  |
|   \>   | 大于     | 返回x是否大于y         | (x > y) 返回 False  |
|   <   | 小于     | 返回x是否小于y         | (x < y) 返回 True   |
|   >=   | 大于等于 | 返回x是否大于等于y     | (x >= y) 返回 False |
|  <=>  | 小于等于 | 返回x是否小于等于y     | (x <= y) 返回 True  |

### 2.3 赋值运算符

以下假设变量 x 为 10，变量 y 为 20：

| 运算符 | 描述         | 实例                                  |
| :----: | :----------- | :------------------------------------ |
|   =   | 简单的赋值   | z = x + y 将 x + y 的运算结果赋值为 z |
|   +=   | 加法赋值     | z += x 等效于 z = z + x               |
|   -=   | 减法赋值     | z -= x 等效于 z = z - x               |
|   *=   | 乘法赋值     | z *= x 等效于 z = z * x               |
|   /=   | 除法赋值     | z /= x 等效于 z = z / x               |
|   %=   | 取模赋值     | z %= x 等效于 z = z % x               |
|  **=  | 幂赋值       | z **= x 等效于 z = z ** x             |
|  //=  | 取整除赋值   | z //= x 等效于 z = z // x             |
|   :=   | 海象运算赋值 | if (n := len(x)) > 10:                |

### 2.4 位运算符

按位运算符是把数字看作二进制来进行计算。下表中变量 x 为 60，y 为 13 二进制格式如下：

```
x = 0011 1100
y = 0000 1101
```

| 运算符 | 含义           | 描述                                                                            | 实例                                                                         |
| :----: | :------------- | :------------------------------------------------------------------------------ | :--------------------------------------------------------------------------- |
|   &   | 按位与运算符   | 参与运算的两个值，如果两个相应位都为1，则该位的结果为1，否则为0                 | (x & y) 输出结果 12 ，二进制解释： 0000 1100                                 |
| &#124; | 按位或运算符   | 只要对应的二个二进位有一个为1时，结果位就为1                                    | (x&#124; y) 输出结果 61 ，二进制解释： 0011 1101                             |
|   ^   | 按位异或运算符 | 当两对应的二进位相异时，结果为1                                                 | (x ^ y) 输出结果 49 ，二进制解释： 0011 0001                                 |
|   ~   | 按位取反运算符 | 对数据的每个二进制位取反,即把1变为0,把0变为1                                    | (~x ) 输出结果 -61 ，二进制解释： 1100 0011， 在一个有符号二进制数的补码形式 |
|   <<   | 左移动运算符   | 运算数的各二进位全部左移若干位，由"<<"右边的数指定移动的位数，高位丢弃，低位补0 | x << 2 输出结果 240 ，二进制解释： 1111 0000                                 |
|  \>>  | 右移动运算符   | 把">>"左边的运算数的各二进位全部右移若干位，">>"右边的数指定移动的位数          | x >> 2 输出结果 15 ，二进制解释： 0000 1111                                  |

### 2.5 逻辑运算符

| 运算符 | 逻辑表达式 | 含义     | 描述                                                      | 实例                    |
| :----: | :--------- | :------- | :-------------------------------------------------------- | :---------------------- |
|  and  | x and y    | 布尔"与" | 如果 x 为 False，x and y 返回 x 的值，否则返回 y 的计算值 | (a and b) 返回 20       |
|   or   | x or y     | 布尔"或" | 如果 x 是 True，它返回 x 的值，否则它返回 y 的计算值      | (a or b) 返回 10        |
|  not  | not x      | 布尔"非" | 如果 x 为 True，返回 False 。如果 x 为 False，它返回 True | not(a and b) 返回 False |

### 2.6 成员运算符

| 运算符 | 含义                                                  | 描述                                            |
| :----: | :---------------------------------------------------- | :---------------------------------------------- |
|   in   | 如果在指定的序列中找到值返回 True，否则返回 False     | x 在 y 序列中 , 如果 x 在 y 序列中返回 True     |
| not in | 如果在指定的序列中没有找到值返回 True，否则返回 False | x 不在 y 序列中 , 如果 x 不在 y 序列中返回 True |

### 2.7 身份运算符

身份运算符用于比较两个对象的存储单元。

| 运算符 | 描述                                        | 实例                                                                                       |
| :----: | :------------------------------------------ | :----------------------------------------------------------------------------------------- |
|   is   | is 是判断两个标识符是不是引用自一个对象     | x is y, 类似 id(x) == id(y) , 如果引用的是同一个对象则返回 True，否则返回 False            |
| is not | is not 是判断两个标识符是不是引用自不同对象 | x is not y ， 类似 id(x) != id(y)。如果引用的不是同一个对象则返回结果 True，否则返回 False |
